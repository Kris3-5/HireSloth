<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HireSloth - Privacy-first Job Board</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <a href="index.html" class="logo"><img src="logo.jpg" alt="HireSloth Logo"></a>
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="jobs.html">Vacancies</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
      <a href="post-job.html" id="postJobBtn">Post a Job</a>
      <a href="auth.html" id="authBtn">Sign In</a>
    </nav>
  </header>

  <div class="hero">
    <h1>Welcome to HireSloth</h1>
    <p>Privacy-first job search. No data selling. Just opportunities that matter.</p>
    <div class="cta-buttons">
      <a href="jobs.html" class="btn">View Vacancies</a>
      <a href="post-job.html" class="btn btn-alt" id="heroPostBtn">Post a Job</a>
    </div>
  </div>

  <div class="content">
    <h2>Why HireSloth?</h2>
    <p>
      HireSloth is a calm and trustworthy place for job seekers and companies.  
      We believe in simplicity, transparency, and privacy.  
      Listings expire automatically after 30 days to keep things fresh,  
      and job seekers never have to worry about their data being misused.
    </p>
  </div>

  <footer>
    <p>&copy; 2025 HireSloth. All rights reserved.</p>
  </footer>

  <script type="module">
    import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

    const supabaseUrl = "https://arzddicguiydfvtwewlq.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyemRkaWNndWl5ZGZ2dHdld2xxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc0MzA5NDcsImV4cCI6MjA3MzAwNjk0N30.UjZj0XeB8BtjSDsFyf9swxHA26OniI1Mk1ddgSTUXYg";
    const supabase = createClient(supabaseUrl, supabaseKey);

    const authBtn = document.getElementById("authBtn");
    const postJobBtn = document.getElementById("postJobBtn");
    const heroPostBtn = document.getElementById("heroPostBtn");

    function updateNav(user) {
      if (user) {
        authBtn.textContent = "Sign Out";
        authBtn.href = "#";
        authBtn.onclick = async (e) => {
          e.preventDefault();
          await supabase.auth.signOut();
          window.location.reload();
        };
        postJobBtn.style.display = "inline-block";
        heroPostBtn.style.display = "inline-block";
      } else {
        authBtn.textContent = "Sign In";
        authBtn.href = "auth.html";
        postJobBtn.style.display = "none";
        heroPostBtn.style.display = "none";
      }
    }

    // Initial check
    const currentUser = supabase.auth.user();
    updateNav(currentUser);

    // Listen for auth changes
    supabase.auth.onAuthStateChange((event, session) => {
      updateNav(session?.user ?? null);
    });
  </script>
</body>
</html>
